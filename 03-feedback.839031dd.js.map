{"mappings":"AAEA,MAAMA,EAAO,CACXC,OAAQC,SAASC,cAAc,uBA0BjC,SAASC,IACP,MAAMC,EATR,SAAyBC,GACvB,IACE,OAAOC,KAAKC,MAAMC,aAAaC,QAAQJ,G,CACvC,MAAOK,GACPC,QAAQC,IAAI,QAASF,E,EAKVG,CAAgB,wBAA0B,GACvD,IAAK,MAAMR,KAAOS,OAAOC,KAAKX,GAC5BL,EAAKC,OAAOgB,SAASX,GAAKY,MAAQb,EAAKC,GAEzC,OAAOD,C,CA5BTL,EAAKC,OAAOkB,iBAAiB,SAE7B,SAAuBC,GACrB,MAAMC,EAAW,GACA,IAAIC,SAAStB,EAAKC,QAC1BsB,SAAQ,CAACL,EAAOZ,KACvBe,EAASf,GAAOY,EAKpB,SAA0BZ,EAAKY,GAC7BT,aAAae,QAAQlB,EAAKC,KAAKkB,UAAUP,G,CALvCQ,CAAiB,sBAAuBL,EAAS,G,IAuBrDjB,IAEAJ,EAAKC,OAAOkB,iBAAiB,UAAWC,IACtCA,EAAGO,iBACHf,QAAQC,IAAIT,KACZK,aAAamB,WAAW,uBACxBR,EAAGS,OAAOC,OAAO","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from \"lodash.throttle\";\n\nconst refs = {\n  formEl: document.querySelector('form.feedback-form'),\n}\n\nrefs.formEl.addEventListener('input', onFormElement);\n\nfunction onFormElement(ev) {\n  const userForm = {};\n  const formData = new FormData(refs.formEl);\n  formData.forEach((value, key) => {\n    userForm[key] = value;\n    saveLocalStorage('feedback-form-state', userForm);\n  })\n}\n\nfunction saveLocalStorage(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getLocalStorage(key) {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (err) {\n    console.log('error', err);\n  }\n}\n\nfunction onLoad() {\n  const data = getLocalStorage('feedback-form-state') || {};\n  for (const key of Object.keys(data)) {\n    refs.formEl.elements[key].value = data[key];\n  }\n  return data;\n}\nonLoad();\n\nrefs.formEl.addEventListener('submit', (ev) => {\n  ev.preventDefault();\n  console.log(onLoad())\n  localStorage.removeItem('feedback-form-state');\n  ev.target.reset();\n})"],"names":["$945622fd0f572e60$var$refs","formEl","document","querySelector","$945622fd0f572e60$var$onLoad","data","key","JSON","parse","localStorage","getItem","err","console","log","$945622fd0f572e60$var$getLocalStorage","Object","keys","elements","value","addEventListener","ev","userForm","FormData","forEach","setItem","stringify","$945622fd0f572e60$var$saveLocalStorage","preventDefault","removeItem","target","reset"],"version":3,"file":"03-feedback.839031dd.js.map"}