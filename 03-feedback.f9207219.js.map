{"mappings":"YAEA,IAAMA,EAAO,CACXC,OAAQC,SAASC,cAAc,uBA0BjC,SAASC,IACP,IAAMC,EATR,SAAyBC,GACvB,IACE,OAAOC,KAAKC,MAAMC,aAAaC,QAAQJ,G,CACvC,MAAOK,GACPC,QAAQC,IAAI,QAASF,E,EAKVG,CAAgB,wBAA0B,GAClDC,GAAS,EAATC,GAAS,EAATC,OAASC,E,IAAd,QAAKC,EAAAC,EAAaC,OAAOC,KAAKjB,GAAKkB,OAAAC,cAA9BT,GAAAI,EAAAC,EAASK,QAAAC,MAATX,GAAS,GAAT,IAAMT,EAANa,EAASQ,MACZ3B,EAAKC,OAAO2B,SAAStB,GAAKqB,MAAQtB,EAAKC,E,WADpCU,GAAS,EAATC,EAASN,C,aAATI,GAAS,MAATK,EAASS,QAATT,EAASS,Q,YAATb,E,MAAAC,C,EAGL,OAAOZ,C,CA5BTL,EAAKC,OAAO6B,iBAAiB,SAE7B,SAAuBC,GACrB,IAAMC,EAAW,GACA,IAAIC,SAASjC,EAAKC,QAC1BiC,SAAQ,SAACP,EAAOrB,GACvB0B,EAAS1B,GAAOqB,EAKpB,SAA0BrB,EAAKqB,GAC7BlB,aAAa0B,QAAQ7B,EAAKC,KAAK6B,UAAUT,G,CALvCU,CAAiB,sBAAuBL,E,OAuB5C5B,IAEAJ,EAAKC,OAAO6B,iBAAiB,UAAU,SAACC,GACtCA,EAAGO,iBACH1B,QAAQC,IAAIT,KACZK,aAAa8B,WAAW,uBACxBR,EAAGS,OAAOC,O","sources":["src/js/03-feedback.js"],"sourcesContent":["// import throttle from \"lodash.throttle\";\n\nconst refs = {\n  formEl: document.querySelector('form.feedback-form'),\n}\n\nrefs.formEl.addEventListener('input', onFormElement);\n\nfunction onFormElement(ev) {\n  const userForm = {};\n  const formData = new FormData(refs.formEl);\n  formData.forEach((value, key) => {\n    userForm[key] = value;\n    saveLocalStorage('feedback-form-state', userForm);\n  })\n}\n\nfunction saveLocalStorage(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getLocalStorage(key) {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (err) {\n    console.log('error', err);\n  }\n}\n\nfunction onLoad() {\n  const data = getLocalStorage('feedback-form-state') || {};\n  for (const key of Object.keys(data)) {\n    refs.formEl.elements[key].value = data[key];\n  }\n  return data;\n}\nonLoad();\n\nrefs.formEl.addEventListener('submit', (ev) => {\n  ev.preventDefault();\n  console.log(onLoad())\n  localStorage.removeItem('feedback-form-state');\n  ev.target.reset();\n})"],"names":["$b00c40859be242c5$var$refs","formEl","document","querySelector","$b00c40859be242c5$var$onLoad","data","key","JSON","parse","localStorage","getItem","err","console","log","$b00c40859be242c5$var$getLocalStorage","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Object","keys","Symbol","iterator","next","done","value","elements","return","addEventListener","ev","userForm","FormData","forEach","setItem","stringify","$b00c40859be242c5$var$saveLocalStorage","preventDefault","removeItem","target","reset"],"version":3,"file":"03-feedback.f9207219.js.map"}